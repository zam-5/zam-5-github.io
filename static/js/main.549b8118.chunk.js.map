{"version":3,"sources":["components/EqInput.js","components/buttons/NewEqButton.js","components/buttons/DelEqButton.js","components/buttons/ColorPickButton.js","components/EqTable.js","util.js","components/PlotArea.js","components/AxisSelector.js","App.js","reportWebVitals.js","index.js"],"names":["EqInput","props","className","style","whiteSpace","type","id","value","eqText","onChange","e","handleEqChange","target","replace","NewEqButton","onClick","preventDefault","incColorTracker","addEqRow","disabled","DelEqButton","name","deleteEqRow","ColorPickButton","padding","margin","display","backgroundColor","color","borderRadius","width","height","EqTable","eqList","eq","push","eqColors","eqValidity","eqValiity","stringToDataPoints","expr","xMin","xMax","parsedExpr","Parser","require","operators","concatenate","conditional","logical","comparison","in","assignment","parse","dataArray","xx","x","y","evaluate","getWindowDimensions","window","innerWidth","innerHeight","PlotArea","useState","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","useWindowDimensions","lines","data","err","stroke","parent","border","top","bottom","left","right","domain","theme","VictoryTheme","material","typ","AxisSelector","label","slice","toLowerCase","htmlFor","axisValue","step","handleAxisChange","Number","App","colors","colorTracker","setColorTracker","eq0","setEqText","nextEqId","setNextEqId","setEqColors","setEqValidity","yMin","yMax","axisValues","setAxisValues","newEq","eqName","prevState","Error","testEqString","axis","newVal","axisList","map","axisName","newEqName","console","log","state","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.549b8118.chunk.js","sourcesContent":["import React from 'react';\n\nexport default function EqInput(props) {\n    function handleEqChange(e) {\n        const filter = /[^0-9a-xEPI+*^/().-]/g;\n\n        props.handleEqChange(e.target.value.replace(filter, ''), props.id);\n    }\n\n    return (\n        <label className=\"eqBox\">\n            <span style={{ whiteSpace: 'nowrap' }}>\n                f(x)=&nbsp;\n                <input\n                    type=\"text\"\n                    id={props.id + 'Input'}\n                    value={props.eqText}\n                    onChange={handleEqChange}\n                    className={props.className}\n                />\n            </span>\n        </label>\n    );\n}\n","import React from 'react';\n\nexport default function NewEqButton(props) {\n    function handleClick(e) {\n        e.preventDefault();\n        props.incColorTracker();\n        props.addEqRow();\n    }\n    return (\n        <button\n            type=\"button\"\n            id=\"addButton\"\n            onClick={handleClick}\n            disabled={false}\n        >\n            +\n        </button>\n    );\n}\n","import React from 'react';\n\nexport default function DelEqButton(props) {\n    return (\n        <button\n            className=\"deleteButton\"\n            type=\"button\"\n            id={props.name + 'delBut'}\n            onClick={(e) => {\n                e.preventDefault();\n                props.deleteEqRow(props.name);\n            }}\n        >\n            X\n        </button>\n    );\n}\n","import React from 'react';\n\nexport default function ColorPickButton(props) {\n    const style = {\n        padding: 5,\n        margin: 5,\n        display: 'block',\n        backgroundColor: props.color,\n        borderRadius: '50%',\n        width: 5,\n        height: 5,\n    };\n    return <div style={style}></div>;\n}\n","import React from 'react';\nimport EqInput from './EqInput';\nimport NewEqButton from './buttons/NewEqButton';\nimport DelEqButton from './buttons/DelEqButton';\nimport ColorPickButton from './buttons/ColorPickButton';\n\nexport default function EqTable(props) {\n    let eqList = [];\n    for (let eq in props.eqText) {\n        eqList.push(\n            <tr key={eq} className=\"eqRow\">\n                <td>\n                    <ColorPickButton color={props.eqColors[eq]} />\n                </td>\n                <td>\n                    <EqInput\n                        eqText={props.eqText[eq]}\n                        handleEqChange={props.handleEqChange}\n                        className={\n                            props.eqValidity[eq] ? 'validInput' : 'invalidInput'\n                        }\n                        eqValiity={props.eqValidity[eq]}\n                        id={eq}\n                    />\n                </td>\n                <td>\n                    <DelEqButton name={eq} deleteEqRow={props.deleteEqRow} />\n                </td>\n            </tr>\n        );\n    }\n\n    return (\n        <div>\n            <table className=\"eqTable\">\n                <tbody>\n                    {eqList}\n                    <tr key=\"addButRow\">\n                        <td></td>\n                        <td>\n                            <NewEqButton\n                                addEqRow={props.addEqRow}\n                                incColorTracker={props.incColorTracker}\n                            />\n                        </td>\n                        <td></td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    );\n}\n","import { useState, useEffect } from 'react';\n\nexport function stringToDataPoints(expr, xMin, xMax) {\n    const Parser = require('expr-eval').Parser;\n\n    const parser = new Parser({\n        operators: {\n            concatenate: false,\n            conditional: false,\n            logical: false,\n            comparison: false,\n            in: false,\n            assignment: false,\n        },\n    });\n\n    const parsedExpr = parser.parse(expr);\n\n    let dataArray = [];\n\n    for (let xx = xMin; xx < xMax; xx += 0.1) {\n        dataArray.push({ x: xx, y: parsedExpr.evaluate({ x: xx }) });\n    }\n    return dataArray;\n}\n\nexport function testEqString(expr) {\n    try {\n        const Parser = require('expr-eval').Parser;\n\n        const parser = new Parser({\n            operators: {\n                concatenate: false,\n                conditional: false,\n                logical: false,\n                comparison: false,\n                in: false,\n                assignment: false,\n            },\n        });\n\n        let parsedExpr = parser.parse(expr);\n        let calcedVal = parsedExpr.evaluate({ x: 1 });\n        if (typeof calcedVal !== 'number') {\n            throw new Error();\n        }\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction getWindowDimensions() {\n    const { innerWidth: width, innerHeight: height } = window;\n    return {\n        width,\n        height,\n    };\n}\n\nexport function useWindowDimensions() {\n    const [windowDimensions, setWindowDimensions] = useState(\n        getWindowDimensions()\n    );\n\n    useEffect(() => {\n        function handleResize() {\n            setWindowDimensions(getWindowDimensions());\n        }\n\n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    }, []);\n\n    return windowDimensions;\n}\n","import React from 'react';\nimport { VictoryChart, VictoryLine, VictoryTheme } from 'victory';\nimport { stringToDataPoints, useWindowDimensions } from '../util';\n\nexport default function PlotArea(props) {\n    const { height, width } = useWindowDimensions();\n\n    let lines = [];\n    for (let eq in props.eqText) {\n        let data = [];\n        try {\n            data = stringToDataPoints(props.eqText[eq], props.xMin, props.xMax);\n        } catch (err) {\n            data = [{ x: 0, y: 0 }];\n        }\n\n        lines.push(\n            <VictoryLine\n                key={props.eqText[eq] + 'line'}\n                style={{\n                    data: { stroke: props.eqColors[eq] },\n                    parent: { border: '1px solid #ccc' },\n                }}\n                data={data}\n            />\n        );\n    }\n\n    return (\n        <VictoryChart\n            width={width - 210}\n            height={height - 40}\n            padding={{ top: 10, bottom: 10, left: 10, right: 10 }}\n            domain={props.domain}\n            theme={VictoryTheme.material}\n            typ\n        >\n            {lines}\n        </VictoryChart>\n    );\n}\n","import React from 'react';\n\nexport default function AxisSelector(props) {\n    function handleAxisChange(e) {\n        const filter = /[^0-9-]/g;\n        props.handleAxisChange(\n            props.name,\n            Number(e.target.value.replace(filter, ''))\n        );\n    }\n\n    const name = props.name;\n    const label = `${name[0]}-${name.slice(1).toLowerCase()}: `;\n    return (\n        <div className=\"axisInputDiv\">\n            <label htmlFor={name} className=\"axisInput\">\n                {label}\n                <input\n                    type=\"number\"\n                    name={name}\n                    id={name}\n                    value={props.axisValue}\n                    step=\"1\"\n                    onChange={handleAxisChange}\n                />\n            </label>\n        </div>\n    );\n}\n","import React, { useState } from 'react';\nimport './App.css';\nimport EqTable from './components/EqTable';\nimport PlotArea from './components/PlotArea';\nimport AxisSelector from './components/AxisSelector';\nimport { testEqString } from './util';\n\nexport default function App(props) {\n    const colors = [\n        '#2424ff',\n        '#c43a31',\n        '#008000',\n        '#fa9421',\n        ' #800080 ',\n        '#000000',\n    ];\n    const [colorTracker, setColorTracker] = useState(1);\n    const [eqText, setEqText] = useState({ eq0: '' });\n    const [nextEqId, setNextEqId] = useState(1);\n\n    const [eqColors, setEqColors] = useState({ eq0: colors[0] });\n    const [eqValidity, setEqValidity] = useState({ eq0: false });\n\n    const [axisValues, setAxisValues] = useState({\n        xMin: -10,\n        xMax: 10,\n        yMin: -10,\n        yMax: 10,\n    });\n\n    function handleEqChange(newEq, eqName) {\n        setEqText((prevState) => ({ ...prevState, [eqName]: newEq }));\n        setEqValidity((prevState) => ({\n            ...prevState,\n            [eqName]: testEqString(newEq),\n        }));\n    }\n    function incColorTracker() {\n        if (colorTracker === 5) {\n            setColorTracker(0);\n        } else {\n            setColorTracker(colorTracker + 1);\n        }\n    }\n    function setNewColor(eqName) {\n        setEqColors((prevState) => ({\n            ...prevState,\n            [eqName]: colors[colorTracker],\n        }));\n    }\n\n    //let eqCount = 0;\n    function addEqRow() {\n        //eqCount++;\n        const newEqName = 'eq' + nextEqId;\n        handleEqChange('', 'eq' + nextEqId);\n        setNewColor(newEqName);\n        setNextEqId(nextEqId + 1);\n    }\n\n    function deleteEqRow(eqName) {\n        console.log('here');\n        setEqText((prevState) => {\n            const state = { ...prevState };\n            delete state[eqName];\n            return state;\n        });\n        setEqValidity((prevState) => {\n            const state = { ...prevState };\n            delete state[eqName];\n            return state;\n        });\n        setEqColors((prevState) => {\n            const state = { ...prevState };\n            delete state[eqName];\n            return state;\n        });\n    }\n\n    function handleAxisChange(axis, newVal) {\n        setAxisValues((prevState) => ({ ...prevState, [axis]: newVal }));\n    }\n\n    const axes = ['xMin', 'xMax', 'yMin', 'yMax'];\n    const axisList = axes.map((axisName) => {\n        return (\n            <AxisSelector\n                name={axisName}\n                key={axisName}\n                axisValue={axisValues[axisName]}\n                handleAxisChange={handleAxisChange}\n            />\n        );\n    });\n    return (\n        <div className=\"appDiv\">\n            <div className=\"topBar\">grapher</div>\n            <div className=\"appArea\">\n                <div className=\"sidebar\">\n                    <p>Equations </p>\n                    <EqTable\n                        eqText={eqText}\n                        eqColors={eqColors}\n                        handleEqChange={handleEqChange}\n                        eqValidity={eqValidity}\n                        addEqRow={addEqRow}\n                        deleteEqRow={deleteEqRow}\n                        incColorTracker={incColorTracker}\n                    />\n                    <hr />\n                    <div className=\"axisControls\">{axisList}</div>\n                </div>\n                <div className=\"PlotArea\">\n                    <PlotArea\n                        domain={{\n                            x: [axisValues.xMin, axisValues.xMax],\n                            y: [axisValues.yMin, axisValues.yMax],\n                        }}\n                        eqText={eqText}\n                        eqColors={eqColors}\n                        xMin={axisValues.xMin}\n                        xMax={axisValues.xMax}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}